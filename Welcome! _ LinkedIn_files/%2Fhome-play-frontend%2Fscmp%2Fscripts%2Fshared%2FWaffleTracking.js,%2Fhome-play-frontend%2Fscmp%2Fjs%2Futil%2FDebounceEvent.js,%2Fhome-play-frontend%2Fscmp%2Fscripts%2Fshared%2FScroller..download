(function(a){var d=a.requires("jquery"),c=a.requires("BaseControl"),f=a.requires("WebTracking"),h=a.requires("underscore"),c=c.extend(function(){var a=d.camelCase("li-trk-code");return{init:function(a,b){d(a).on("click","[data-li-trk-code]",d.proxy(this.track,this))},track:function(e){var b=d(e.currentTarget),c=b.data(a);e=b.data("liTrkPageKey");var g={};c.length&&"undefined"!==typeof f&&(b=f.createRequestData(c,this.getParamsList(b),!0),e&&(h.each(b.split("\x26"),function(a){var b=a.split("\x3d");
a=b.shift();b=b.length?b.join("\x3d"):null;g[a]=b}),g.pkey=e,b=d.param(g)),f.track(b))},getParamsList:function(a){return{}}}});a.exports("WaffleTracking",c);a.exports("waffleTracking",new c(document))})(window.LIModules);(function(a){var f=a.requires("Events");a.exports("DebounceEvent",function(c,b,d){var e=!1,a=c===window?"window":c.id;d=d||100;b=b||"scroll";YEvent.on(c,b,function(a){e=!0});setInterval(function(){e&&(e=!1,f.fire("debounced-"+a+"-"+b,a))},d)})})(window.LIModules);(function(d){var e=d.requires("jquery"),g=d.requires("underscore"),h=d.requires("BaseControl"),f=d.requires("Events"),h=h.extend(function(){var d={debounceWait:250,bindToWindow:!0,throttle:!1,throttleRate:1E3/60};return{beforeDecoration:function(){this.registry={};this._config=g.defaults(this._config,d);this._config.bindToWindow&&(this._$el=e(window))},afterDecoration:function(){var b=this._config.bindToWindow,a=b?"window":this._config.id,c=this._$el[0],d;this.elId=a;this.registry[a]={evtName:a+"-scroll",
scrollPos:this._getScrollPos(a)};d=this.registry[a];d.prevScrollPos=d.scrollPos;b?d.elHeight=e(window).height():(d.elHeight=c.offsetHeight,d.contentEl=this._$el.children(":first")[0]);if(this._config.throttle)this._$el.on("scroll.scoller",g.throttle(function(){f.trigger("scroll.scoller",a)},this._config.throttleRate));else this._$el.on("scroll.scoller",g.debounce(function(){f.trigger("scroll.scoller",a)},this._config.debounceWait));f.on("scroll.scoller",this._scrolled)},getEvtName:function(){return this.registry[this.elId].evtName},
_getDistToBottom:function(b,a,c){return b-(a+c)},_getScrollPos:function(b){return this._config.bindToWindow?e(document).scrollTop():e("#"+b).scrollTop()},_getScrollDirection:function(b,a){return b>a?"up":"down"},_scrolled:function(b){var a,c=this.registry[b];"undefined"!==typeof c&&(a=this._config.bindToWindow?e(document).height():c.contentEl.offsetHeight,c.prevScrollPos=c.scrollPos,c.scrollPos=this._getScrollPos(b),b=this._getDistToBottom(a,c.scrollPos,c.elHeight),a=this._getScrollDirection(c.prevScrollPos,
c.scrollPos),f.trigger(c.evtName,{scrollPos:c.scrollPos,distToBottom:b,scrollDirection:a}))},destroy:function(){var b=this._config.bindToWindow?"window":this._$el.attr("id"),a=this.registry[b];"undefined"!==typeof a&&(f.off(a.evtName),delete this.registry[b]);this._$el.off("scroll.scoller")}}});d.exports("Scroller",h)})(window.LIModules);(function(b){var d=b.requires("jquery"),c=b.requires("BaseControl"),f=b.requires("Scroller"),e=b.requires("Events"),c=c.extend(function(){var b=0;return{beforeDecoration:function(){this.scrollEvtName=(new f(window,{debounceWait:10})).getEvtName();this.elHeight=this.initialPos=this.offsetFromTop=0;this.stickyState="notSticky";this.STICKY_CLASS=this._config.stickyClass||!1;this.STICKY_DISTANCE=this._config.stickyDistance||0;this.FIXED_HEADER_HEIGHT=this._config.fixedHeaderHeight||0;this.UNSTICK_HEIGHT=
this._config.unstickHeight||0;this.RESULTS_LOADED_EVT_NAME=this._config.resultsLoadedEvtName||""},attachEventListeners:function(){var a;e.on(this.scrollEvtName,this.decideStickiness);if("string"===typeof this.RESULTS_LOADED_EVT_NAME&&""!==this.RESULTS_LOADED_EVT_NAME)e.on(this.RESULTS_LOADED_EVT_NAME,function(){window.scrollTo(0,document.scrollTop+1)});this._saveElementInformation();a=this;d(window).on("load",function(){a._saveElementInformation()})},_saveElementInformation:function(){this.elPosition=
this._$el.css("position");this.elTop=this._$el.css("top");this.initialPos=this._getOffsetFromTop(this._$el.parent());this.elHeight=parseInt(this._$el.css("height"),10)},_getOffsetFromTop:function(a){var b=0;a=a?a.get(0):this._$el.get(0);if(a.offsetParent){do b+=a.offsetTop,a=a.offsetParent;while(a);return b}return this._$el.get(0).offsetTop},_stick:function(){this.STICKY_CLASS?this._$el.addClass(this.STICKY_CLASS):(this._$el.css("position","fixed"),this._$el.css("top",this.STICKY_DISTANCE+this.FIXED_HEADER_HEIGHT+
"px"));this.stickyState="sticky"},_unStick:function(){this.STICKY_CLASS?this._$el.removeClass(this.STICKY_CLASS):(this._$el.css("position",this.elPosition),this.elTop="number"===typeof this.elTop?this.elTop+"px":this.elTop,this._$el.css("top",this.elTop));this.stickyState="notSticky"},_makeElStickToFooter:function(){this._$el.css("position","relative");this._$el.css("top",d(document).height()-this.initialPos-this.elHeight-this.UNSTICK_HEIGHT+"px");this.stickyState="footerSticky"},decideStickiness:function(a){var c=
a.scrollPos+this.STICKY_DISTANCE+this.FIXED_HEADER_HEIGHT;a=this.UNSTICK_HEIGHT-a.distToBottom;"notSticky"===this.stickyState&&(b=this._getOffsetFromTop())&&c>=b&&this._stick();"notSticky"!==this.stickyState&&(b&&c<b?this._unStick():0<a&&0>d(window).height()-this.FIXED_HEADER_HEIGHT-this.STICKY_DISTANCE-this.elHeight-a?this._makeElStickToFooter():this._stick())}}});b.exports("Sticky",c)})(window.LIModules);